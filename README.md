**Домашнее задание к занятию 2 «Работа с Playbook»**

Плейбук устанавливает и подготавливает приложения Clickhouse и Vector  
Playbook разделен на две части : 

**Install Clickhouse**  - Установка Clickhouse  
**Install and configure Vector** - Установка и настройка Vector  

------------------

**Установка:**

ansible-playbook site.yml -i inventory/prod.yml

По умолчани. хосты указываются раздельно для каждого блока Clickhouse и Vector в  
**inventory/prod.yml**

------------------

**Clickhouse:**

**Требования :**  
ОС основанные на Red Hat или совместимые.

**Переменные:**  
параметры версии и названия необходимых пакетов указываются в **/group_vars/clickhouse/vars.yml**  

**особенности плейбука**  
По умолчанию плейбук пытается скачать дистрибутив **noarch.rpm**, но в случае ошибки скачает **x86_64.rpm**

Для установки использует менеджер пакетов **yum**

------------------

**Vector**

**Требования :**  
**Linux** система **x86_64**

**Переменные:**  
параметры версии указываются в **/group_vars/vector/vars.yml**  
шаблоны конфига указываются в **/templates/vector.j2**  
шаблоны файла сервиса указыаются в **/templates/vector.service.j2**  

**особенности плейбука**  
Подготавливает папки, пользователя и группу **vector** 
Устанавливает приложение Vector из архива с бинарниками  
Урописывает переменные **PATH**  
Создает службу и запускает ее под созданным пользователем  


